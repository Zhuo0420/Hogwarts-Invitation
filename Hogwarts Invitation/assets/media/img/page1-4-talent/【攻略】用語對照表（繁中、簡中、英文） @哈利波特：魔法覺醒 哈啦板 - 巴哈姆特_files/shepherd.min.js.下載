/*! tether 0.6.5 */

!function(t,e){"function"==typeof define&&define.amd?define("tether",e):"object"==typeof exports?module.exports=e(require,exports,module):t.Tether=e()}(this,function(t,e,i){return function(){var t,e,i,o,n,s,r,h,l,a,u,p,f,c,d,g,m,v={}.hasOwnProperty,b=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},y=[].slice;null==this.Tether&&(this.Tether={modules:[]}),u=function(t){var e,i,o,n,s;if(i=getComputedStyle(t).position,"fixed"===i)return t;for(o=void 0,e=t;e=e.parentNode;){try{n=getComputedStyle(e)}catch(r){}if(null==n)return e;if(/(auto|scroll)/.test(n.overflow+n["overflow-y"]+n["overflow-x"])&&("absolute"!==i||"relative"===(s=n.position)||"absolute"===s||"fixed"===s))return e}return document.body},d=function(){var t;return t=0,function(){return t++}}(),m={},l=function(t){var e,o,s,r,h;if(s=t._tetherZeroElement,null==s&&(s=t.createElement("div"),s.setAttribute("data-tether-id",d()),n(s.style,{top:0,left:0,position:"absolute"}),t.body.appendChild(s),t._tetherZeroElement=s),e=s.getAttribute("data-tether-id"),null==m[e]){m[e]={},h=s.getBoundingClientRect();for(o in h)r=h[o],m[e][o]=r;i(function(){return m[e]=void 0})}return m[e]},f=null,r=function(t){var e,i,o,n,s,r,h;t===document?(i=document,t=document.documentElement):i=t.ownerDocument,o=i.documentElement,e={},h=t.getBoundingClientRect();for(n in h)r=h[n],e[n]=r;return s=l(i),e.top-=s.top,e.left-=s.left,null==e.width&&(e.width=document.body.scrollWidth-e.left-e.right),null==e.height&&(e.height=document.body.scrollHeight-e.top-e.bottom),e.top=e.top-o.clientTop,e.left=e.left-o.clientLeft,e.right=i.body.clientWidth-e.width-e.left,e.bottom=i.body.clientHeight-e.height-e.top,e},h=function(t){return t.offsetParent||document.documentElement},a=function(){var t,e,i,o,s;return t=document.createElement("div"),t.style.width="100%",t.style.height="200px",e=document.createElement("div"),n(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e),o=t.offsetWidth,e.style.overflow="scroll",s=t.offsetWidth,o===s&&(s=e.clientWidth),document.body.removeChild(e),i=o-s,{width:i,height:i}},n=function(t){var e,i,o,n,s,r,h;for(null==t&&(t={}),e=[],Array.prototype.push.apply(e,arguments),h=e.slice(1),s=0,r=h.length;r>s;s++)if(o=h[s])for(i in o)v.call(o,i)&&(n=o[i],t[i]=n);return t},c=function(t,e){var i,o,n,s,r;if(null!=t.classList){for(s=e.split(" "),r=[],o=0,n=s.length;n>o;o++)i=s[o],i.trim()&&r.push(t.classList.remove(i));return r}return t.className=t.className.replace(new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi")," ")},e=function(t,e){var i,o,n,s,r;if(null!=t.classList){for(s=e.split(" "),r=[],o=0,n=s.length;n>o;o++)i=s[o],i.trim()&&r.push(t.classList.add(i));return r}return c(t,e),t.className+=" "+e},p=function(t,e){return null!=t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},g=function(t,i,o){var n,s,r,h,l,a;for(s=0,h=o.length;h>s;s++)n=o[s],b.call(i,n)<0&&p(t,n)&&c(t,n);for(a=[],r=0,l=i.length;l>r;r++)n=i[r],p(t,n)?a.push(void 0):a.push(e(t,n));return a},o=[],i=function(t){return o.push(t)},s=function(){var t,e;for(e=[];t=o.pop();)e.push(t());return e},t=function(){function t(){}return t.prototype.on=function(t,e,i,o){var n;return null==o&&(o=!1),null==this.bindings&&(this.bindings={}),null==(n=this.bindings)[t]&&(n[t]=[]),this.bindings[t].push({handler:e,ctx:i,once:o})},t.prototype.once=function(t,e,i){return this.on(t,e,i,!0)},t.prototype.off=function(t,e){var i,o,n;if(null!=(null!=(o=this.bindings)?o[t]:void 0)){if(null==e)return delete this.bindings[t];for(i=0,n=[];i<this.bindings[t].length;)this.bindings[t][i].handler===e?n.push(this.bindings[t].splice(i,1)):n.push(i++);return n}},t.prototype.trigger=function(){var t,e,i,o,n,s,r,h,l;if(i=arguments[0],t=2<=arguments.length?y.call(arguments,1):[],null!=(r=this.bindings)?r[i]:void 0){for(n=0,l=[];n<this.bindings[i].length;)h=this.bindings[i][n],o=h.handler,e=h.ctx,s=h.once,o.apply(null!=e?e:this,t),s?l.push(this.bindings[i].splice(n,1)):l.push(n++);return l}},t}(),this.Tether.Utils={getScrollParent:u,getBounds:r,getOffsetParent:h,extend:n,addClass:e,removeClass:c,hasClass:p,updateClasses:g,defer:i,flush:s,uniqueId:d,Evented:t,getScrollBarSize:a}}.call(this),function(){var t,e,i,o,n,s,r,h,l,a,u,p,f,c,d,g,m,v,b,y,w,C,O,S,T,x,k,E,M,P=[].slice,A=function(t,e){return function(){return t.apply(e,arguments)}};if(null==this.Tether)throw new Error("You must include the utils.js file before tether.js");o=this.Tether,M=o.Utils,g=M.getScrollParent,m=M.getSize,c=M.getOuterSize,p=M.getBounds,f=M.getOffsetParent,a=M.extend,n=M.addClass,O=M.removeClass,x=M.updateClasses,l=M.defer,u=M.flush,d=M.getScrollBarSize,k=function(t,e,i){return null==i&&(i=1),t+i>=e&&e>=t-i},T=function(){var t,e,i,o,n;for(t=document.createElement("div"),n=["transform","webkitTransform","OTransform","MozTransform","msTransform"],i=0,o=n.length;o>i;i++)if(e=n[i],void 0!==t.style[e])return e}(),S=[],C=function(){var t,e,i;for(e=0,i=S.length;i>e;e++)t=S[e],t.position(!1);return u()},v=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},function(){var t,e,i,o,n,s,r,h,l;for(e=null,i=null,o=null,n=function(){if(null!=i&&i>16)return i=Math.min(i-16,250),void(o=setTimeout(n,250));if(!(null!=e&&v()-e<10))return null!=o&&(clearTimeout(o),o=null),e=v(),C(),i=v()-e},h=["resize","scroll","touchmove"],l=[],s=0,r=h.length;r>s;s++)t=h[s],l.push(window.addEventListener(t,n));return l}(),t={center:"center",left:"right",right:"left"},e={middle:"middle",top:"bottom",bottom:"top"},i={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},h=function(i,o){var n,s;return n=i.left,s=i.top,"auto"===n&&(n=t[o.left]),"auto"===s&&(s=e[o.top]),{left:n,top:s}},r=function(t){var e,o;return{left:null!=(e=i[t.left])?e:t.left,top:null!=(o=i[t.top])?o:t.top}},s=function(){var t,e,i,o,n,s,r;for(e=1<=arguments.length?P.call(arguments,0):[],i={top:0,left:0},n=0,s=e.length;s>n;n++)r=e[n],o=r.top,t=r.left,"string"==typeof o&&(o=parseFloat(o,10)),"string"==typeof t&&(t=parseFloat(t,10)),i.top+=o,i.left+=t;return i},b=function(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t},y=w=function(t){var e,i,o;return o=t.split(" "),i=o[0],e=o[1],{top:i,left:e}},E=function(){function t(t){this.position=A(this.position,this);var e,i,n,s,r;for(S.push(this),this.history=[],this.setOptions(t,!1),s=o.modules,i=0,n=s.length;n>i;i++)e=s[i],null!=(r=e.initialize)&&r.call(this);this.position()}return t.modules=[],t.prototype.getClass=function(t){var e,i;return(null!=(e=this.options.classes)?e[t]:void 0)?this.options.classes[t]:(null!=(i=this.options.classes)?i[t]:void 0)!==!1?this.options.classPrefix?""+this.options.classPrefix+"-"+t:t:""},t.prototype.setOptions=function(t,e){var i,o,s,r,h,l;for(this.options=t,null==e&&(e=!0),i={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},this.options=a(i,this.options),h=this.options,this.element=h.element,this.target=h.target,this.targetModifier=h.targetModifier,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),l=["element","target"],s=0,r=l.length;r>s;s++){if(o=l[s],null==this[o])throw new Error("Tether Error: Both element and target must be defined");null!=this[o].jquery?this[o]=this[o][0]:"string"==typeof this[o]&&(this[o]=document.querySelector(this[o]))}if(n(this.element,this.getClass("element")),n(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");return this.targetAttachment=y(this.options.targetAttachment),this.attachment=y(this.options.attachment),this.offset=w(this.options.offset),this.targetOffset=w(this.options.targetOffset),null!=this.scrollParent&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParent=this.target:this.scrollParent=g(this.target),this.options.enabled!==!1?this.enable(e):void 0},t.prototype.getTargetBounds=function(){var t,e,i,o,n,s,r,h,l;if(null==this.targetModifier)return p(this.target);switch(this.targetModifier){case"visible":return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:(t=p(this.target),n={height:t.height,width:t.width,top:t.top,left:t.left},n.height=Math.min(n.height,t.height-(pageYOffset-t.top)),n.height=Math.min(n.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),n.height=Math.min(innerHeight,n.height),n.height-=2,n.width=Math.min(n.width,t.width-(pageXOffset-t.left)),n.width=Math.min(n.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),n.width=Math.min(innerWidth,n.width),n.width-=2,n.top<pageYOffset&&(n.top=pageYOffset),n.left<pageXOffset&&(n.left=pageXOffset),n);case"scroll-handle":return l=this.target,l===document.body?(l=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=p(l),h=getComputedStyle(l),i=l.scrollWidth>l.clientWidth||"scroll"===[h.overflow,h.overflowX]||this.target!==document.body,s=0,i&&(s=15),o=t.height-parseFloat(h.borderTopWidth)-parseFloat(h.borderBottomWidth)-s,n={width:15,height:.975*o*(o/l.scrollHeight),left:t.left+t.width-parseFloat(h.borderLeftWidth)-15},e=0,408>o&&this.target===document.body&&(e=-11e-5*Math.pow(o,2)-.00727*o+22.58),this.target!==document.body&&(n.height=Math.max(n.height,24)),r=this.target.scrollTop/(l.scrollHeight-o),n.top=r*(o-n.height-e)+t.top+parseFloat(h.borderTopWidth),this.target===document.body&&(n.height=Math.max(n.height,24)),n}},t.prototype.clearCache=function(){return this._cache={}},t.prototype.cache=function(t,e){return null==this._cache&&(this._cache={}),null==this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]},t.prototype.enable=function(t){return null==t&&(t=!0),n(this.target,this.getClass("enabled")),n(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position),t?this.position():void 0},t.prototype.disable=function(){return O(this.target,this.getClass("enabled")),O(this.element,this.getClass("enabled")),this.enabled=!1,null!=this.scrollParent?this.scrollParent.removeEventListener("scroll",this.position):void 0},t.prototype.destroy=function(){var t,e,i,o,n;for(this.disable(),n=[],t=i=0,o=S.length;o>i;t=++i){if(e=S[t],e===this){S.splice(t,1);break}n.push(void 0)}return n},t.prototype.updateAttachClasses=function(t,e){var i,o,n,s,r,h,a,u,p,f=this;for(null==t&&(t=this.attachment),null==e&&(e=this.targetAttachment),s=["left","top","bottom","right","middle","center"],(null!=(p=this._addAttachClasses)?p.length:void 0)&&this._addAttachClasses.splice(0,this._addAttachClasses.length),i=null!=this._addAttachClasses?this._addAttachClasses:this._addAttachClasses=[],t.top&&i.push(""+this.getClass("element-attached")+"-"+t.top),t.left&&i.push(""+this.getClass("element-attached")+"-"+t.left),e.top&&i.push(""+this.getClass("target-attached")+"-"+e.top),e.left&&i.push(""+this.getClass("target-attached")+"-"+e.left),o=[],r=0,a=s.length;a>r;r++)n=s[r],o.push(""+this.getClass("element-attached")+"-"+n);for(h=0,u=s.length;u>h;h++)n=s[h],o.push(""+this.getClass("target-attached")+"-"+n);return l(function(){return null!=f._addAttachClasses?(x(f.element,f._addAttachClasses,o),x(f.target,f._addAttachClasses,o),f._addAttachClasses=void 0):void 0})},t.prototype.position=function(t){var e,i,n,l,a,c,g,m,v,y,w,C,O,S,T,x,k,E,M,P,A,L,_,W,B,z,H,j,N,F,Y,X,q,U,D,I=this;if(null==t&&(t=!0),this.enabled){for(this.clearCache(),P=h(this.targetAttachment,this.attachment),this.updateAttachClasses(this.attachment,P),e=this.cache("element-bounds",function(){return p(I.element)}),B=e.width,n=e.height,0===B&&0===n&&null!=this.lastSize?(F=this.lastSize,B=F.width,n=F.height):this.lastSize={width:B,height:n},_=L=this.cache("target-bounds",function(){return I.getTargetBounds()}),v=b(r(this.attachment),{width:B,height:n}),A=b(r(P),_),a=b(this.offset,{width:B,height:n}),c=b(this.targetOffset,_),v=s(v,a),A=s(A,c),l=L.left+A.left-v.left,W=L.top+A.top-v.top,Y=o.modules,z=0,j=Y.length;j>z;z++)if(g=Y[z],T=g.position.call(this,{left:l,top:W,targetAttachment:P,targetPos:L,attachment:this.attachment,elementPos:e,offset:v,targetOffset:A,manualOffset:a,manualTargetOffset:c,scrollbarSize:E}),null!=T&&"object"==typeof T){if(T===!1)return!1;W=T.top,l=T.left}if(m={page:{top:W,left:l},viewport:{top:W-pageYOffset,bottom:pageYOffset-W-n+innerHeight,left:l-pageXOffset,right:pageXOffset-l-B+innerWidth}},document.body.scrollWidth>window.innerWidth&&(E=this.cache("scrollbar-size",d),m.viewport.bottom-=E.height),document.body.scrollHeight>window.innerHeight&&(E=this.cache("scrollbar-size",d),m.viewport.right-=E.width),(""!==(X=document.body.style.position)&&"static"!==X||""!==(q=document.body.parentElement.style.position)&&"static"!==q)&&(m.page.bottom=document.body.scrollHeight-W-n,m.page.right=document.body.scrollWidth-l-B),(null!=(U=this.options.optimizations)?U.moveElement:void 0)!==!1&&null==this.targetModifier){for(w=this.cache("target-offsetparent",function(){return f(I.target)}),S=this.cache("target-offsetparent-bounds",function(){return p(w)}),O=getComputedStyle(w),i=getComputedStyle(this.element),C=S,y={},D=["Top","Left","Bottom","Right"],H=0,N=D.length;N>H;H++)M=D[H],y[M.toLowerCase()]=parseFloat(O["border"+M+"Width"]);S.right=document.body.scrollWidth-S.left-C.width+y.right,S.bottom=document.body.scrollHeight-S.top-C.height+y.bottom,m.page.top>=S.top+y.top&&m.page.bottom>=S.bottom&&m.page.left>=S.left+y.left&&m.page.right>=S.right&&(k=w.scrollTop,x=w.scrollLeft,m.offset={top:m.page.top-S.top+k-y.top,left:m.page.left-S.left+x-y.left})}return this.move(m),this.history.unshift(m),this.history.length>3&&this.history.pop(),t&&u(),!0}},t.prototype.move=function(t){var e,i,o,n,s,r,h,u,p,c,d,g,m,v,b,y,w,C=this;if(null!=this.element.parentNode){u={};for(c in t){u[c]={};for(n in t[c]){for(o=!1,y=this.history,v=0,b=y.length;b>v;v++)if(h=y[v],!k(null!=(w=h[c])?w[n]:void 0,t[c][n])){o=!0;break}o||(u[c][n]=!0)}}e={top:"",left:"",right:"",bottom:""},p=function(t,i){var o,n,s;return(null!=(s=C.options.optimizations)?s.gpu:void 0)===!1?(t.top?e.top=""+i.top+"px":e.bottom=""+i.bottom+"px",t.left?e.left=""+i.left+"px":e.right=""+i.right+"px"):(t.top?(e.top=0,n=i.top):(e.bottom=0,n=-i.bottom),t.left?(e.left=0,o=i.left):(e.right=0,o=-i.right),e[T]="translateX("+Math.round(o)+"px) translateY("+Math.round(n)+"px)","msTransform"!==T?e[T]+=" translateZ(0)":void 0)},s=!1,(u.page.top||u.page.bottom)&&(u.page.left||u.page.right)?(e.position="absolute",p(u.page,t.page)):(u.viewport.top||u.viewport.bottom)&&(u.viewport.left||u.viewport.right)?(e.position="fixed",p(u.viewport,t.viewport)):null!=u.offset&&u.offset.top&&u.offset.left?(e.position="absolute",r=this.cache("target-offsetparent",function(){return f(C.target)}),f(this.element)!==r&&l(function(){return C.element.parentNode.removeChild(C.element),r.appendChild(C.element)}),p(u.offset,t.offset),s=!0):(e.position="absolute",p({top:!0,left:!0},t.page)),s||"BODY"===this.element.parentNode.tagName||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element)),m={},g=!1;for(n in e)d=e[n],i=this.element.style[n],""===i||""===d||"top"!==n&&"left"!==n&&"bottom"!==n&&"right"!==n||(i=parseFloat(i),d=parseFloat(d)),i!==d&&(g=!0,m[n]=e[n]);return g?l(function(){return a(C.element.style,m)}):void 0}},t}(),o.position=C,this.Tether=a(E,o)}.call(this),function(){var t,e,i,o,n,s,r,h,l,a,u=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};a=this.Tether.Utils,r=a.getOuterSize,s=a.getBounds,h=a.getSize,o=a.extend,l=a.updateClasses,i=a.defer,e={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle"},t=["left","top","right","bottom"],n=function(e,i){var o,n,r,h,l,a,u;if("scrollParent"===i?i=e.scrollParent:"window"===i&&(i=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),i===document&&(i=i.documentElement),null!=i.nodeType)for(n=h=s(i),l=getComputedStyle(i),i=[n.left,n.top,h.width+n.left,h.height+n.top],o=a=0,u=t.length;u>a;o=++a)r=t[o],r=r[0].toUpperCase()+r.substr(1),"Top"===r||"Left"===r?i[o]+=parseFloat(l["border"+r+"Width"]):i[o]-=parseFloat(l["border"+r+"Width"]);return i},this.Tether.modules.push({position:function(e){var r,h,a,p,f,c,d,g,m,v,b,y,w,C,O,S,T,x,k,E,M,P,A,L,_,W,B,z,H,j,N,F,Y,X,q,U,D,I,R,Z,$,J,V,G,K,Q,tt,et=this;if(W=e.top,b=e.left,M=e.targetAttachment,!this.options.constraints)return!0;for(x=function(e){var i,o,n,s;for(et.removeClass(e),s=[],o=0,n=t.length;n>o;o++)i=t[o],s.push(et.removeClass(""+e+"-"+i));return s},Z=this.cache("element-bounds",function(){return s(et.element)}),v=Z.height,B=Z.width,0===B&&0===v&&null!=this.lastSize&&($=this.lastSize,B=$.width,v=$.height),A=this.cache("target-bounds",function(){return et.getTargetBounds()}),P=A.height,L=A.width,E={},m={},h=[this.getClass("pinned"),this.getClass("out-of-bounds")],J=this.options.constraints,z=0,F=J.length;F>z;z++)g=J[z],g.outOfBoundsClass&&h.push(g.outOfBoundsClass),g.pinnedClass&&h.push(g.pinnedClass);for(H=0,Y=h.length;Y>H;H++)for(d=h[H],V=["left","top","right","bottom"],j=0,X=V.length;X>j;j++)k=V[j],h.push(""+d+"-"+k);for(r=[],E=o({},M),m=o({},this.attachment),G=this.options.constraints,N=0,q=G.length;q>N;N++){if(g=G[N],_=g.to,a=g.attachment,O=g.pin,null==a&&(a=""),u.call(a," ")>=0?(K=a.split(" "),c=K[0],f=K[1]):f=c=a,p=n(this,_),("target"===c||"both"===c)&&(W<p[1]&&"top"===E.top&&(W+=P,E.top="bottom"),W+v>p[3]&&"bottom"===E.top&&(W-=P,E.top="top")),"together"===c&&(W<p[1]&&"top"===E.top&&("bottom"===m.top?(W+=P,E.top="bottom",W+=v,m.top="top"):"top"===m.top&&(W+=P,E.top="bottom",W-=v,m.top="bottom")),W+v>p[3]&&"bottom"===E.top&&("top"===m.top?(W-=P,E.top="top",W-=v,m.top="bottom"):"bottom"===m.top&&(W-=P,E.top="top",W+=v,m.top="top")),"middle"===E.top&&(W+v>p[3]&&"top"===m.top?(W-=v,m.top="bottom"):W<p[1]&&"bottom"===m.top&&(W+=v,m.top="top"))),("target"===f||"both"===f)&&(b<p[0]&&"left"===E.left&&(b+=L,E.left="right"),b+B>p[2]&&"right"===E.left&&(b-=L,E.left="left")),"together"===f&&(b<p[0]&&"left"===E.left?"right"===m.left?(b+=L,E.left="right",b+=B,m.left="left"):"left"===m.left&&(b+=L,E.left="right",b-=B,m.left="right"):b+B>p[2]&&"right"===E.left?"left"===m.left?(b-=L,E.left="left",b-=B,m.left="right"):"right"===m.left&&(b-=L,E.left="left",b+=B,m.left="left"):"center"===E.left&&(b+B>p[2]&&"left"===m.left?(b-=B,m.left="right"):b<p[0]&&"right"===m.left&&(b+=B,m.left="left"))),("element"===c||"both"===c)&&(W<p[1]&&"bottom"===m.top&&(W+=v,m.top="top"),W+v>p[3]&&"top"===m.top&&(W-=v,m.top="bottom")),("element"===f||"both"===f)&&(b<p[0]&&"right"===m.left&&(b+=B,m.left="left"),b+B>p[2]&&"left"===m.left&&(b-=B,m.left="right")),"string"==typeof O?O=function(){var t,e,i,o;for(i=O.split(","),o=[],e=0,t=i.length;t>e;e++)C=i[e],o.push(C.trim());return o}():O===!0&&(O=["top","left","right","bottom"]),O||(O=[]),S=[],y=[],W<p[1]&&(u.call(O,"top")>=0?(W=p[1],S.push("top")):y.push("top")),W+v>p[3]&&(u.call(O,"bottom")>=0?(W=p[3]-v,S.push("bottom")):y.push("bottom")),b<p[0]&&(u.call(O,"left")>=0?(b=p[0],S.push("left")):y.push("left")),b+B>p[2]&&(u.call(O,"right")>=0?(b=p[2]-B,S.push("right")):y.push("right")),S.length)for(T=null!=(Q=this.options.pinnedClass)?Q:this.getClass("pinned"),r.push(T),I=0,U=S.length;U>I;I++)k=S[I],r.push(""+T+"-"+k);if(y.length)for(w=null!=(tt=this.options.outOfBoundsClass)?tt:this.getClass("out-of-bounds"),r.push(w),R=0,D=y.length;D>R;R++)k=y[R],r.push(""+w+"-"+k);(u.call(S,"left")>=0||u.call(S,"right")>=0)&&(m.left=E.left=!1),(u.call(S,"top")>=0||u.call(S,"bottom")>=0)&&(m.top=E.top=!1),(E.top!==M.top||E.left!==M.left||m.top!==this.attachment.top||m.left!==this.attachment.left)&&this.updateAttachClasses(m,E)}return i(function(){return l(et.target,r,h),l(et.element,r,h)}),{top:W,left:b}}})}.call(this),function(){var t,e,i,o;o=this.Tether.Utils,e=o.getBounds,i=o.updateClasses,t=o.defer,this.Tether.modules.push({position:function(o){var n,s,r,h,l,a,u,p,f,c,d,g,m,v,b,y,w,C,O,S,T,x,k,E,M,P=this;if(d=o.top,a=o.left,T=this.cache("element-bounds",function(){return e(P.element)}),l=T.height,g=T.width,c=this.getTargetBounds(),h=d+l,u=a+g,n=[],d<=c.bottom&&h>=c.top)for(x=["left","right"],m=0,w=x.length;w>m;m++)p=x[m],((k=c[p])===a||k===u)&&n.push(p);if(a<=c.right&&u>=c.left)for(E=["top","bottom"],v=0,C=E.length;C>v;v++)p=E[v],((M=c[p])===d||M===h)&&n.push(p);for(r=[],s=[],f=["left","top","right","bottom"],r.push(this.getClass("abutted")),b=0,O=f.length;O>b;b++)p=f[b],r.push(""+this.getClass("abutted")+"-"+p);for(n.length&&s.push(this.getClass("abutted")),y=0,S=n.length;S>y;y++)p=n[y],s.push(""+this.getClass("abutted")+"-"+p);return t(function(){return i(P.target,s,r),i(P.element,s,r)}),!0}})}.call(this),function(){this.Tether.modules.push({position:function(t){var e,i,o,n,s,r,h;return r=t.top,e=t.left,this.options.shift?(i=function(t){return"function"==typeof t?t.call(this,{top:r,left:e}):t},o=i(this.options.shift),"string"==typeof o?(o=o.split(" "),o[1]||(o[1]=o[0]),s=o[0],n=o[1],s=parseFloat(s,10),n=parseFloat(n,10)):(h=[o.top,o.left],s=h[0],n=h[1]),r+=s,e+=n,{top:r,left:e}):void 0}})}.call(this),this.Tether}),!function(t,e){"function"==typeof define&&define.amd?define("shepherd.min",["tether"],e):"object"==typeof exports?module.exports=e(require("tether")):t.Shepherd=e(t.Tether)}(this,function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t){return"undefined"==typeof t}function n(t){return t&&t.constructor===Array}function s(t){return t&&t.constructor===Object}function r(t){return"object"==typeof t}function h(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]}function l(t,e){var i=void 0;return o(t.matches)?o(t.matchesSelector)?o(t.msMatchesSelector)?o(t.webkitMatchesSelector)?o(t.mozMatchesSelector)?o(t.oMatchesSelector)||(i=t.oMatchesSelector):i=t.mozMatchesSelector:i=t.webkitMatchesSelector:i=t.msMatchesSelector:i=t.matchesSelector:i=t.matches,i.call(t,e)}function a(t){if(r(t))return t.hasOwnProperty("element")&&t.hasOwnProperty("on")?t:null;var e=O.exec(t);if(!e)return null;var i=e[2];return"["===i[0]&&(i=i.substring(1,i.length-1)),{element:e[1],on:i}}function u(t,e){if(null===t||o(t))return t;if(r(t))return t;for(var i=t.split(" "),n={},s=e.length-1,h=i.length-1;h>=0;h--){if(0===s){n[e[s]]=i.slice(0,h+1).join(" ");break}n[e[s]]=i[h],s--}return n}var p=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),f=function(t,e,i){for(var o=!0;o;){var n=t,s=e,r=i;o=!1,null===n&&(n=Function.prototype);var h=Object.getOwnPropertyDescriptor(n,s);if(void 0!==h){if("value"in h)return h.value;var l=h.get;if(void 0===l)return;return l.call(r)}var a=Object.getPrototypeOf(n);if(null===a)return;t=a,e=s,i=r,o=!0,h=a=void 0}},c=t.Utils,d=c.Evented,g=c.addClass,m=c.extend,v=c.hasClass,b=c.removeClass,y=c.uniqueId,w=new d,C={"top right":"bottom left","top left":"bottom right","top center":"bottom center","middle right":"middle left","middle left":"middle right","middle center":"middle center","bottom left":"top right","bottom right":"top left","bottom center":"top center",top:"bottom center",left:"middle right",right:"middle left",bottom:"top center",center:"middle center",middle:"middle center"},O=/^(.+) (top|left|right|bottom|center|\[[a-z ]+\])$/,S=function(r){function c(t,i){return e(this,c),f(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,t,i),this.tour=t,this.bindMethods(),this.setOptions(i),this}return i(c,r),p(c,[{key:"bindMethods",value:function(){var t=this,e=["_show","show","hide","isOpen","cancel","complete","scrollTo","destroy","render"];e.map(function(e){t[e]=t[e].bind(t)})}},{key:"setOptions",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t,this.destroy(),this.id=this.options.id||this.id||"step-"+y();var e=this.options.when;if(e)for(var i in e)if({}.hasOwnProperty.call(e,i)){var r=e[i];this.on(i,r,this)}var h=JSON.stringify(this.options.buttons),l=o(h)||"true"===h,a="{}"===h||"[]"===h||"null"===h||"false"===h,u=!l&&n(this.options.buttons),p=!l&&s(this.options.buttons);l?this.options.buttons=[{text:"Next",action:this.tour.next,classes:"btn"}]:!a&&p?this.options.buttons=[this.options.buttons]:!a&&u||(this.options.buttons=!1)}},{key:"getTour",value:function(){return this.tour}},{key:"bindAdvance",value:function(){var t=this,e=u(this.options.advanceOn,["selector","event"]),i=e.event,n=e.selector,s=function(e){t.isOpen()&&(o(n)?t.el&&e.target===t.el&&t.tour.next():l(e.target,n)&&t.tour.next())};document.body.addEventListener(i,s),this.on("destroy",function(){return document.body.removeEventListener(i,s)})}},{key:"getAttachTo",value:function(){var t=a(this.options.attachTo)||{},e=m({},t);return"string"==typeof t.element&&(e.element=document.querySelector(t.element),e.element||console.error("The element for this Shepherd step was not found "+t.element)),e}},{key:"setupTether",value:function(){if(o(t))throw new Error("Using the attachment feature of Shepherd requires the Tether library");var e=this.getAttachTo(),i=C[e.on]||C.right;o(e.element)&&(e.element="viewport",i="middle center");var n={classPrefix:"shepherd",element:this.el,constraints:[{to:"window",pin:!0,attachment:"together"}],target:e.element,offset:e.offset||"0 0",attachment:i};this.tether&&this.tether.destroy(),this.tether=new t(m(n,this.options.tetherOptions))}},{key:"show",value:function(){var t=this;if(!o(this.options.beforeShowPromise)){var e=this.options.beforeShowPromise();if(!o(e))return e.then(function(){return t._show()})}this._show()}},{key:"_show",value:function(){var t=this;this.trigger("before-show"),this.el||this.render(),g(this.el,"shepherd-open"),document.body.setAttribute("data-shepherd-step",this.id),this.setupTether(),this.options.scrollTo&&setTimeout(function(){t.scrollTo()}),this.trigger("show")}},{key:"hide",value:function(){this.trigger("before-hide"),b(this.el,"shepherd-open"),document.body.removeAttribute("data-shepherd-step"),this.tether&&this.tether.destroy(),this.tether=null,this.trigger("hide")}},{key:"isOpen",value:function(){return this.el&&v(this.el,"shepherd-open")}},{key:"cancel",value:function(){this.tour.cancel(),this.trigger("cancel")}},{key:"complete",value:function(){this.tour.complete(),this.trigger("complete")}},{key:"scrollTo",value:function(){var t=this.getAttachTo(),e=t.element;o(this.options.scrollToHandler)?o(e)||e.scrollIntoView():this.options.scrollToHandler(e)}},{key:"destroy",value:function(){!o(this.el)&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),delete this.el),this.tether&&this.tether.destroy(),this.tether=null,this.trigger("destroy")}},{key:"render",value:function(){var t=this;o(this.el)||this.destroy(),this.el=h("<div class='shepherd-step "+(this.options.classes||"")+"' data-id='"+this.id+"' "+(this.options.idAttribute?'id="'+this.options.idAttribute+'"':"")+"></div>");var e=document.createElement("div");e.className="shepherd-content",this.el.appendChild(e);var i=document.createElement("header");if(e.appendChild(i),this.options.title&&(i.innerHTML+="<h3 class='shepherd-title'>"+this.options.title+"</h3>",this.el.className+=" shepherd-has-title"),this.options.showCancelLink){var n=h("<a href class='shepherd-cancel-link'>âœ•</a>");i.appendChild(n),this.el.className+=" shepherd-has-cancel-link",this.bindCancelLink(n)}o(this.options.text)||!function(){var i=h("<div class='shepherd-text'></div>"),o=t.options.text;"function"==typeof o&&(o=o.call(t,i)),o instanceof HTMLElement?i.appendChild(o):("string"==typeof o&&(o=[o]),o.map(function(t){i.innerHTML+="<p>"+t+"</p>"})),e.appendChild(i)}(),this.options.buttons&&!function(){var i=document.createElement("footer"),o=h("<ul class='shepherd-buttons'></ul>");t.options.buttons.map(function(e){var i=h("<li><a class='shepherd-button "+(e.classes||"")+"'>"+e.text+"</a>");o.appendChild(i),t.bindButtonEvents(e,i.querySelector("a"))}),i.appendChild(o),e.appendChild(i)}(),document.body.appendChild(this.el),this.setupTether(),this.options.advanceOn&&this.bindAdvance()}},{key:"bindCancelLink",value:function(t){var e=this;t.addEventListener("click",function(t){t.preventDefault(),e.cancel()})}},{key:"bindButtonEvents",value:function(t,e){var i=this;t.events=t.events||{},o(t.action)||(t.events.click=t.action);for(var n in t.events)if({}.hasOwnProperty.call(t.events,n)){var s=t.events[n];"string"==typeof s&&!function(){var t=s;s=function(){return i.tour.show(t)}}(),e.addEventListener(n,s)}this.on("destroy",function(){for(var i in t.events)if({}.hasOwnProperty.call(t.events,i)){var o=t.events[i];e.removeEventListener(i,o)}})}}]),c}(d),T=function(t){function n(){var t=this,i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e(this,n),f(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,i),this.bindMethods(),this.options=i,this.steps=this.options.steps||[];var o=["complete","cancel","hide","start","show","active","inactive"];return o.map(function(e){!function(e){t.on(e,function(i){i=i||{},i.tour=t,w.trigger(e,i)})}(e)}),this}return i(n,t),p(n,[{key:"bindMethods",value:function(){var t=this,e=["next","back","cancel","complete","hide"];e.map(function(e){t[e]=t[e].bind(t)})}},{key:"addStep",value:function(t,e){return o(e)&&(e=t),e instanceof S?e.tour=this:("string"!=typeof t&&"number"!=typeof t||(e.id=t.toString()),e=m({},this.options.defaults,e),e=new S(this,e)),this.steps.push(e),this}},{key:"removeStep",value:function(t){for(var e=this.getCurrentStep(),i=0;i<this.steps.length;++i){var o=this.steps[i];if(o.id===t){o.isOpen()&&o.hide(),o.destroy(),this.steps.splice(i,1);break}}e&&e.id===t&&(this.currentStep=void 0,this.steps.length?this.show(0):this.hide())}},{key:"getById",value:function(t){for(var e=0;e<this.steps.length;++e){var i=this.steps[e];if(i.id===t)return i}}},{key:"getCurrentStep",value:function(){return this.currentStep}},{key:"next",value:function(){var t=this.steps.indexOf(this.currentStep);t===this.steps.length-1?(this.hide(t),this.trigger("complete"),this.done()):this.show(t+1,!0)}},{key:"back",value:function(){var t=this.steps.indexOf(this.currentStep);this.show(t-1,!1)}},{key:"cancel",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger("cancel"),this.done()}},{key:"complete",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger("complete"),this.done()}},{key:"hide",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger("hide"),this.done()}},{key:"done",value:function(){w.activeTour=null,b(document.body,"shepherd-active"),this.trigger("inactive",{tour:this})}},{key:"show",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments.length<=1||void 0===arguments[1]||arguments[1];this.currentStep?this.currentStep.hide():(g(document.body,"shepherd-active"),this.trigger("active",{tour:this})),w.activeTour=this;var i=void 0;if(i="string"==typeof t?this.getById(t):this.steps[t])if(o(i.options.showOn)||i.options.showOn())this.trigger("show",{step:i,previous:this.currentStep}),this.currentStep&&this.currentStep.hide(),this.currentStep=i,i.show();else{var n=this.steps.indexOf(i),s=e?n+1:n-1;
this.show(s,e)}}},{key:"start",value:function(){this.trigger("start"),this.currentStep=null,this.next()}}]),n}(d);return m(w,{Tour:T,Step:S,Evented:d}),w});