var Util=Util||{};!function(t){"use strict";var e={TO_EMBED_CODE:1,TO_IMAGE_WITH_ANCHOR:2,TO_WRAPPER_IFRAME:3,IMAGE_DOMAIN:"i2.bahamut.com.tw"};e.Base=function(t,o,i,r){this.to=o||e.TO_EMBED_CODE,this.src=t,this.width=i||560,this.height=r||315;var a=document.body.clientWidth||document.documentElement.clientWidth||window.innerWidth;a-=20,this.width>a&&(this.height*=a/this.width,this.width=a)},e.Base.prototype.toString=function(){switch(this.to){case e.TO_EMBED_CODE:return this.toEmbedCode();case e.TO_IMAGE_WITH_ANCHOR:return this.toImageWithAnchor();case e.TO_WRAPPER_IFRAME:return this.toWrapperIframe();default:throw"Illegal argument: to"}},e.Base.prototype.getId=function(t){for(var e in t){var o=this.src.match(t[e]);if(o)return o}},e.Base.prototype.toEmbedCode=function(){throw"Not implemented"},e.Base.prototype.toImageWithAnchor=function(){throw"Not implemented"},e.Base.prototype.toWrapperIframe=function(){throw"Not implemented"},e.Youtube=function(){e.Base.apply(this,arguments)},e.Youtube.prototype=Object.create(e.Base.prototype),e.Youtube.prototype.toEmbedCode=function(){var t=this.getId(e.Youtube.PATTERNS);if(t){var o='<iframe width="'+this.width+'" height="'+this.height+'" ';return o+='src="https://www.youtube.com/embed/'+t[1]+(t[2]||"")+'" frameborder="0" allowfullscreen></iframe>'}throw"Illegal argument: source"},e.Youtube.prototype.toImageWithAnchor=function(){var t=this.getId(e.Youtube.PATTERNS);if(t){var o='<a href="https://www.youtube.com/watch?v='+t[1]+'">';return o+='<img class="youtube" src="https://'+e.IMAGE_DOMAIN+'/youtube_play.png" ',o+='style="width:'+this.width+"px;height:"+this.height+"px;background-image:url(https://img.youtube.com/vi/"+t[1]+'/hqdefault.jpg);"></a>'}throw"Illegal argument: source"},e.Youtube.prototype.toWrapperIframe=function(){var t=this.getId(e.Youtube.PATTERNS);if(t){var o='<div class="videoWrapper video-youtube"><iframe class="lazyload" style="z-index:0;" ';return o+='data-src="https://www.youtube.com/embed/'+t[1]+(t[2]||"")+'" frameborder="0" allowfullscreen></iframe></div>'}throw"Illegal argument: source"},e.Youtube.PATTERNS=[/^([0-9a-zA-Z_-]{11})$/,/^https?:\/\/www\.youtube\.com\/embed\/([0-9a-zA-Z_-]{11})(\?start=[0-9]+)?/],e.Xuite=function(){e.Base.apply(this,arguments)},e.Xuite.prototype=Object.create(e.Base.prototype),e.Xuite.prototype.toEmbedCode=function(){var t=this.getId(e.Xuite.PATTERNS);if(t){var o='<iframe marginwidth="0" marginheight="0" src="https://vlog.xuite.net/embed/'+t[1]+'?ar=0&as=0" ';return o+='width="'+this.width+'" height="'+this.height+'" scrolling="no" frameborder="0"></iframe>'}throw"Illegal argument: source"},e.Xuite.prototype.toImageWithAnchor=function(){var t=this.getId(e.Xuite.PATTERNS);if(t){var o='<a href="http://vlog.xuite.net/play/'+t[1]+'">';return o+='<img class="youtube" src="https://'+e.IMAGE_DOMAIN+'/youtube_play.png" ',o+='style="width:'+this.width+"px;height:"+this.height+'px;background-color:black;"></a>'}throw"Illegal argument: source"},e.Xuite.prototype.toWrapperIframe=function(){var t=this.getId(e.Xuite.PATTERNS);if(t){var o='<div class="videoWrapper video-xuite"><iframe class="lazyload" style="z-index:0;" ';return o+='data-src="https://vlog.xuite.net/embed/'+t[1]+'?ar=0&as=0" scrolling="no" frameborder="0"></iframe></div>'}throw"Illegal argument: source"},e.Xuite.PATTERNS=[/^([a-zA-Z0-9=]+)$/,/^https?:\/\/vlog\.xuite\.net\/embed\/([a-zA-Z0-9=]+)/],e.Niconico=function(){e.Base.apply(this,arguments)},e.Niconico.prototype=Object.create(e.Base.prototype),e.Niconico.prototype.toEmbedCode=function(){var t=this.getId(e.Niconico.PATTERNS);if(t){var o='<a href="http://www.nicovideo.jp/watch/'+t[1]+'">';return o+='<img class="youtube" src="https://'+e.IMAGE_DOMAIN+'/youtube_play.png" ',o+='style="width:'+this.width+"px;height:"+this.height+"px;background: #000 url(http://tn-skr3.smilevideo.jp/smile?i="+t[1].replace(/sm|nm|ca|cd|ax|yo|nl|ig|na|cw|za|zb|zc|zd|ze|om|sk|yk|so|am|fz/,"")+') center center no-repeat; background-size:contain;"></a>'}throw"Illegal argument: source"},e.Niconico.prototype.toImageWithAnchor=function(){var t=this.getId(e.Niconico.PATTERNS);if(t){var o='<a href="http://www.nicovideo.jp/watch/'+t[1]+'">';return o+='<img class="youtube" src="https://'+e.IMAGE_DOMAIN+'/youtube_play.png" ',o+='style="width:'+this.width+"px;height:"+this.height+"px;background: #000 url(http://tn-skr3.smilevideo.jp/smile?i="+t[1].replace(/sm|nm|ca|cd|ax|yo|nl|ig|na|cw|za|zb|zc|zd|ze|om|sk|yk|so|am|fz/,"")+') center center no-repeat; background-size:contain;"></a>'}throw"Illegal argument: source"},e.Niconico.prototype.toWrapperIframe=function(){var t=this.getId(e.Niconico.PATTERNS);if(t){var o='<div class="videoWrapper video-niconico"><iframe class="lazyload" style="z-index:0;" ';return o+='data-src="https://embed.nicovideo.jp/watch/'+t[1]+'" frameborder="0" allowFullScreen><iframe></div>'}throw"Illegal argument: source"},e.Niconico.PATTERNS=[/^((?:sm|nm|ca|cd|ax|yo|nl|ig|na|cw|za|zb|zc|zd|ze|om|sk|yk|so|am|fz)([0-9]{1,14}|[0-9]{10}))$/,/^https?:\/\/ext\.nicovideo\.jp\/thumb_watch\/((?:sm|nm|ca|cd|ax|yo|nl|ig|na|cw|za|zb|zc|zd|ze|om|sk|yk|so|am|fz)[0-9]{1,14}|[0-9]{10})\?thumb_mode=html$/,/^https?:\/\/embed\.nicovideo\.jp\/watch\/((?:sm|nm|ca|cd|ax|yo|nl|ig|na|cw|za|zb|zc|zd|ze|om|sk|yk|so|am|fz)[0-9]{1,14}|[0-9]{10})$/],e.Twitch=function(){e.Base.apply(this,arguments)},e.Twitch.prototype=Object.create(e.Base.prototype),e.Twitch.prototype.toEmbedCode=function(){var t=this.getId(e.Twitch.PATTERNS);if(t){var o,i,r;return 5==t.length?t[3]&&t[4]?(i="video",r=t[3]+t[4]):(i="channel",r=t[2]):(i=t[1],r=t[2]),o='<iframe width="'+this.width+'" height="'+this.height+'" ',o+='src="//player.twitch.tv/?'+i+"="+r+'" frameborder="0" scrolling="no"></iframe>'}throw"Illegal argument: source"},e.Twitch.prototype.toImageWithAnchor=function(){var t=this.getId(e.Twitch.PATTERNS);if(t){var o='<a href="https://www.twitch.tv/'+t[1]+'">';return o+='<img class="youtube" src="https://'+e.IMAGE_DOMAIN+'/youtube_play.png" ',o+='style="width:'+this.width+"px;height:"+this.height+'px;background-color:black;"></a>'}throw"Illegal argument: source"},e.Twitch.prototype.toWrapperIframe=function(){var t=this.getId(e.Twitch.PATTERNS);if(t){var o,i,r;return 5==t.length?t[3]&&t[4]?(i="video",r=t[3]+t[4]):(i="channel",r=t[2]):(i=t[1],r=t[2],t[3]&&(r+=t[3])),o='<div class="videoWrapper video-twitch"><iframe class="lazyload" style="z-index:0;" ',o+='data-src="//player.twitch.tv/?'+i+"="+r+'" frameborder="0" scrolling="no"></iframe></div>'}throw"Illegal argument: source"},e.Twitch.PATTERNS=[/^(([a-zA-Z0-9_]{4,25})(?:\/([bcv])\/([0-9]+))?)$/,/^https?:\/\/www\.twitch\.tv\/(([a-zA-Z0-9_]{4,25})(?:\/([bcv])\/([0-9]+))?)/,/^https?:\/\/(?:www|player)\.twitch\.tv\/\?(video|channel)=((?:[bcv]?[0-9]+)|(?:[a-zA-Z0-9_]{4,25})).*?(&autoplay=false)?$/],e.Livehouse=function(){e.Base.apply(this,arguments)},e.Livehouse.prototype=Object.create(e.Base.prototype),e.Livehouse.prototype.toEmbedCode=function(){var t=this.getId(e.Livehouse.PATTERNS);if(t){var o='<iframe src="https://livehouse.in/embed/channel/'+t[1]+'/video" ';return o+='width="'+this.width+'" height="'+this.height+'" frameborder="0" allowfullscreen"></iframe>'}throw"Illegal argument: source"},e.Livehouse.prototype.toImageWithAnchor=function(){var t=this.getId(e.Livehouse.PATTERNS);if(t){var o='<a href="https://livehouse.in/channel/'+t[1]+'">';return o+='<img class="youtube" src="https://'+e.IMAGE_DOMAIN+'/youtube_play.png" ',o+='style="width:'+this.width+"px;height:"+this.height+'px;background-color:black;"></a>'}throw"Illegal argument: source"},e.Livehouse.prototype.toWrapperIframe=function(){var t=this.getId(e.Livehouse.PATTERNS);if(t){var o='<div class="videoWrapper video-livehouse"><iframe class="lazyload" style="z-index:0;" ';return o+='data-src="https://livehouse.in/embed/channel/'+t[1]+'/video" frameborder="0" allowfullscreen"></iframe></div>'}throw"Illegal argument: source"},e.Livehouse.PATTERNS=[/^(\w+)$/,/^https?:\/\/livehouse\.in\/embed\/channel\/(\w+)\/video$/],e.Facebook=function(){e.Base.apply(this,arguments)},e.Facebook.prototype=Object.create(e.Base.prototype),e.Facebook.prototype.toEmbedCode=function(){var t=this.getId(e.Facebook.PATTERNS);if(t[1]&&t[2]){var o='<iframe src="https://www.facebook.com/plugins/video.php?href=https%3A%2F%2Fwww.facebook.com%2F'+t[1]+"%2Fvideos%2F"+t[2]+"%2F&width="+this.width+"&show_text=false&height="+this.height+'&appId" width="'+this.width+'" height="'+this.height+'" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true" allow="encrypted-media" allowFullScreen="true"></iframe>';return o}throw"Illegal argument: source"},e.Facebook.prototype.toImageWithAnchor=function(){var t=this.getId(e.Facebook.PATTERNS);if(t[1]&&t[2]){var o='<a href="https://www.facebook.com/'+t[1]+"/videos/"+t[2]+'/">';return o+='<img class="youtube" src="https://'+e.IMAGE_DOMAIN+'/youtube_play.png" ',o+='style="width:'+this.width+"px;height:"+this.height+'px;background-color:black;"></a>'}throw"Illegal argument: source"},e.Facebook.prototype.toWrapperIframe=function(){var t=this.getId(e.Facebook.PATTERNS);if(t[1]&&t[2]){var o='<div class="videoWrapper video-facebook"><iframe class="lazyload" style="z-index:0;" ';return o+='data-src="https://www.facebook.com/plugins/video.php?https://www.facebook.com/'+t[1]+"/videos/"+t[2]+"/&width="+this.width+"&show_text=false&height="+this.height+'&appId" width="'+this.width+'" height="'+this.height+'" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true" allow="encrypted-media" allowFullScreen="true"" ></iframe></div>'}throw"Illegal argument: source"},e.Facebook.PATTERNS=[/^(\d+)\/videos\/(\w+)$/,/^https?:\/\/www\.facebook\.com\/(\d+)\/videos\/(\w+)\/$/],t.EmbedPlayer=e}(Util);